<!DOCTYPE html>
<html>
<head>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.29/browser.js">
		</script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.29/browser-polyfill.js">
		</script>
	<script type="text/babel">
		 const delay = seconds => {  //function delay return us a new promise
		  return new Promise(resolve => { // when promise is succesful, it resolves resolve
		  	setTimeout(resolve, seconds * 1000); //first is callback function, second is timeout
		  // setTimeout e o functie asincrona ce indeplineste resolve peste seconds*1000 ms
		  });
		};
		console.log("zero seconds");
		delay(1).then(() => console.log("one second"));
		console.log("zero seconds");
		delay(3).then(() => console.log("three second"));
		console.log("zero seconds");
		//delay primeste argumentul seconds = 1,
		//returneaza un promise ce are ca argument functia () => console.log("one second")

		//////////////////////////////////////////////////////////////////////////////////

		const delay1 = seconds => { 
		  return new Promise((resolve, reject) => { 
		  	if(typeof seconds !== 'number') {
		  		reject(new Error('Argument seconds must be a number'))
		  	}
		  	setTimeout(
		  	 () => resolve(`${seconds} second delay is up`),
		  	 seconds * 1000
		  	 );
		  });
		};
		delay1(2).then(msg => msg.toUpperCase())
			     .then(msg => `${msg}!!!`)
			     .then(msg => console.log(msg));

		delay1("10 sec").then(msg => msg.toUpperCase())
			     .then(msg => `${msg}!!!`)
			     .then(msg => console.log(msg));


		delay1(4).then(msg => console.log(msg));
		delay1(6).then(msg => console.log(msg));
	</script>
	</script>
	<title>promises</title>
</head>
<body>
</body>
</html>